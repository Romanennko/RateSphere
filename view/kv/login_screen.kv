<LoginScreen>:
    name: "login"
    md_bg_color: app.theme_cls.backgroundColor

    MDCard:
        style: "elevated"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        size_hint: 0.2, None
        width: dp(450)
        height: self.minimum_height
        padding: "30dp"
        spacing: "20dp"
        orientation: 'vertical'
        radius: [15,]

        MDIcon:
            icon: "rocket-launch-outline"
            pos_hint: {"center_x": 0.5}
            adaptive_height: True
            padding: [0, dp(20), 0, dp(10)]

        MDLabel:
            text: "Log in to RateSphere"
            halign: 'center'
            adaptive_height: True
            padding: dp(5)

        MDLabel:
            id: error_label
            text: ""
            halign: "center"
            theme_text_color: "Error"
            adaptive_height: True
            size_hint_y: None
            height: self.texture_size[1]
            padding: dp(5)

        MDTextField:
            id: username_input
            mode: "outlined"
            size_hint_x: None
            width: dp(300)
            pos_hint: {"center_x": 0.5}

            MDTextFieldLeadingIcon:
                icon: "account-circle-outline"

            MDTextFieldHintText:
                text: "Username"

            MDTextFieldHelperText:
                text: "Enter your username"
                mode: "on_focus"

        MDTextField:
            id: password_input
            mode: "outlined"
            size_hint_x: None
            width: dp(300)
            pos_hint: {"center_x": 0.5}
            password: True

            MDTextFieldLeadingIcon:
                icon: "key-variant"

            MDTextFieldHintText:
                text: "Password"

            MDTextFieldHelperText:
                text: "Enter your password"
                mode: "on_focus"

            MDTextFieldTrailingIcon:
                icon: "eye-off"
                # TODO The logic of showing/hiding will need to be added to the Python code of the screen

        MDBoxLayout:
            orientation: 'vertical'
            spacing: "10dp"
            adaptive_height: True
            size_hint_y: None
            padding: [dp(20), 0, 0, 0]

            MDButton:
                style: "filled"
                pos_hint: {"center_x": 0.5}
                on_release: app.login_controller.do_login(username_input.text, password_input.text)

                MDButtonText:
                    text: "Log in"

            MDButton:
                style: "text"
                pos_hint: {"center_x": 0.5}
                on_release: app.login_controller.go_to_signup()

                MDButtonText:
                    text: "No account? Sign up"